
<!DOCTYPE html>
<html lang="en-us">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>Erdos-Szekeres Theorem | union&#39;s blog</title>
    <meta name="description"
        content="This post is dedicated to Erdos-Szekeres Theorem, which says:
ES Thm. (Monotone sequence)

For any positive integer
$n$, any sequence of $n^2 &#43; 1$ distinct real numbers contains a monotone subsequence of length at least $n&#43;1$.
This means that within any sufficiently long sequence, there is either an increasing subsequence or a decreasing subsequence of a certain minimum length.
There&rsquo;s another version of the theorem statement coming from the 1935 paper by Paul Erdos and George Szekeres1, which concerns combinatorial geometry. It says:">
    <meta name="google-site-verification" content="leqKZ6ZyQGOq6f_hMMWU-dgFPt8qgZeyJj-ZfCjyz3I" />
    <link rel="canonical" href="http://localhost:1313/post/2023/erdos-szekeres/" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.4/css/bulma.min.css">
    
    <link rel="stylesheet" href="http://localhost:1313/scss/style.min.bdfc41214cc1a8cd1b66e75ea61094e5fc36501e8aa0c63d2662d1a318cc3668.css">
    <meta property="og:url" content="http://localhost:1313/post/2023/erdos-szekeres/">
  <meta property="og:site_name" content="union&#39;s blog">
  <meta property="og:title" content="Erdos-Szekeres Theorem">
  <meta property="og:description" content="This post is dedicated to Erdos-Szekeres Theorem, which says:
ES Thm. (Monotone sequence) For any positive integer $n$, any sequence of $n^2 &#43; 1$ distinct real numbers contains a monotone subsequence of length at least $n&#43;1$.
This means that within any sufficiently long sequence, there is either an increasing subsequence or a decreasing subsequence of a certain minimum length.
There’s another version of the theorem statement coming from the 1935 paper by Paul Erdos and George Szekeres1, which concerns combinatorial geometry. It says:">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2023-07-24T00:00:00+00:00">
    <meta property="article:modified_time" content="2023-07-24T00:00:00+00:00">

    
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Erdos-Szekeres Theorem">
  <meta name="twitter:description" content="This post is dedicated to Erdos-Szekeres Theorem, which says:
ES Thm. (Monotone sequence) For any positive integer $n$, any sequence of $n^2 &#43; 1$ distinct real numbers contains a monotone subsequence of length at least $n&#43;1$.
This means that within any sufficiently long sequence, there is either an increasing subsequence or a decreasing subsequence of a certain minimum length.
There’s another version of the theorem statement coming from the 1935 paper by Paul Erdos and George Szekeres1, which concerns combinatorial geometry. It says:">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"
    integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV" crossorigin="anonymous">


<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"
    integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8"
    crossorigin="anonymous"></script>


<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
    integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>
    
    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Person",
  "name": "Yunian Pan",
  "url": "https://unionpan.github.io",
  "sameAs": [
    "https://www.linkedin.com/in/unionpan/",
    "https://github.com/UnionPan"
  ]
}
</script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            renderMathInElement(document.body, {
                delimiters: [
                    { left: "$$", right: "$$", display: true },
                    { left: "$", right: "$", display: false }
                ]
            });
        });
    </script>
    
</head><body>
        <div class="theme-toggle-container">
            <a id="theme-toggle" class="theme-toggle" href="#">
                <img src="http://localhost:1313/svg/sun.svg" alt="sun icon" class="theme-icon" />
            </a>
        </div>
        
        
        <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle menu">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
        </button>

        <div class="layout-container">
            <aside class="sidebar" id="sidebar">
                <div class="sidebar-content">
                    <div class="sidebar-header">
                        <h1 class="site-title">
                            <a href="/" class="site-title-link">YUNIAN PAN</a>
                        </h1>
                    </div>
                    <nav class="sidebar-nav">
                        <div class="nav-item-container">
                            <a href="#" class="nav-link blog-toggle active" onclick="toggleBlogMenu(event)">
                                Blog <span class="dropdown-arrow">▼</span>
                            </a>
                            <div class="submenu" id="blog-submenu">
                                <a href="/post/about_me" class="submenu-link">About Me</a>
                                <a href="/post/2022" class="submenu-link">2022</a>
                                <a href="/post/2023" class="submenu-link">2023</a>
                                <a href="/post/2024" class="submenu-link">2024</a>
                                <a href="/post/2025" class="submenu-link">2025</a>
                            </div>
                        </div>
                        <a href="/statement" class="nav-link ">Statement/CV</a>
                        <a href="/contact" class="nav-link ">Contact</a>
                        <a href="/photos" class="nav-link ">Photos</a>
                    </nav>
                    <div class="sidebar-footer">
                        <div class="copyright">
                            © 2022-2025 all rights reserved
                        </div>
                        <div class="social-icons">
                            
                            <a href="https://www.linkedin.com/in/unionpan/" title="Linkedin" class="social-link">
                                <svg height="32px" width="32px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
    <rect x="2" y="9" width="4" height="12"></rect>
    <circle cx="4" cy="4" r="2"></circle>
</svg>
                            </a>
                            
                            <a href="https://github.com/UnionPan" title="Github" class="social-link">
                                <svg height="32px" width="32px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
    </path>
</svg>
                            </a>
                            
                            <a href="https://twitter.com/Union54572322" title="twitter" class="social-link">
                                <svg height="32px" width="32px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z">
    </path>
</svg>
                            </a>
                            
                            <a href="https://www.facebook.com/yunian.pan/" title="Facebook" class="social-link">
                                <svg height="32px" width="32px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
</svg>
                            </a>
                            
                            <a href="https://www.instagram.com/pyn_rodcutter/?hl=en" title="instagram" class="social-link">
                                <svg height="32px" width="32px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
    <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
    <line x1="17.5" y1="6.5" x2="17.5" y2="6.5"></line>
</svg>
                            </a>
                            
                        </div>
                    </div>
                </div>
            </aside>
            <main class="main-content">
<div class="single-container">
    <div class="archive">
        
        <div class="post-thumbnail-container">
            <img src="http://localhost:1313//images/post/2023/Erdos-Szekeres/thumbnail.webp" alt="Erdos-Szekeres Theorem" class="post-thumbnail-image">
        </div>
        
        <h1 class="title is-1">Erdos-Szekeres Theorem</h1>
        <hr class="title-content-separator">
        
        <div class="title subtitle heading is-6">
            <div class="small-categories-container">
                
                        <span class="category-text">Some random math</span>
                    
            </div>
        </div>
        
        <div class="content article-content">
            <div class="toc-container">
                
    <div class="post-toc">
        
            <aside>
                <button id="tocButton" ><h4 id="contents" style="margin-left: 1vw;color:rgb(96, 134, 180);margin-bottom: 0;">CONTENTS</h4></button>
                <div id="hide"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li></li>
        <li><a href="#a-simple-proof">A Simple Proof</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </aside>
        
    </div><script>
    
        let button = document.getElementById('tocButton');
        let hide = document.getElementById("hide");
        let contents=document.getElementById("contents");
        button.addEventListener("click", function() {
        if (hide.style.display!='block') {
            hide.style.display='block'
        } else {
            hide.style.display='none'
            contents.style.color='rgb(96, 134, 180)'
        }
        });
    




</script>
            </div>
            <p>This post is dedicated to Erdos-Szekeres Theorem, which says:</p>
<h5 id="es-thm-monotone-sequence">ES Thm. (Monotone sequence)</h5>
<blockquote>
<p>For any positive integer
$n$, any sequence of $n^2 + 1$ distinct real numbers contains a monotone subsequence of length at least $n+1$.</p></blockquote>
<p>This means that within any sufficiently long sequence, there is either an increasing subsequence or a decreasing subsequence of a certain minimum length.</p>
<p>There&rsquo;s another version of the theorem statement coming from the 1935 paper by Paul Erdos and George Szekeres<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>, which concerns combinatorial geometry. It says:</p>
<h5 id="es-thm-combinatorial-geometry">ES Thm. (combinatorial geometry)</h5>
<blockquote>
<p>For every positive  integer $n$ among every $N=\binom{2 n-4}{n-2}+1 \sim 4^{n} / \sqrt{n}$ points $p_1, \ldots, p_N \in \mathbb{R}^2$, where $p_i = (x_i , y_i)$ and $x_1 &lt; x_2 &lt; \ldots &lt;  x_N$, there is a convex configuration or a concave configuation of at least $n$ points.</p></blockquote>
<p>This means that there are indices $i_1 &lt; \ldots &lt; i_n$ such that the slopes of the segments $p_{i_j} p_{i_{j+1}}, j = 1, \ldots, n-1$ are either all nondecreasing or all nonincreasing.</p>
<p>These two statements can be traced back to Ramsey&rsquo;s theory.</p>
<h5 id="ramsey-thm">Ramsey Thm.</h5>
<blockquote>
<p>For every $k,r,n \in \mathbb{N}$ there exists a number $N \in \mathbb{N}$ such that for every coloring of the $k$-tuples of the $[N]$ by $r$ colors there is a subset $T \subseteq [N]$ of size $n$ such that all $k$-tuples of elements of $T$ have the same color. The Ramsey number, $R^r_n (k)$ is the smallest such $N$.</p></blockquote>
<p>I might have lost you here already.  The connections between these three theorems are pretty vague to me at first. But let me make an analogy to clarify that ES theorem actually makes a special case of Ramsey theorem.</p>
<p>First, Ramsey&rsquo;s theorem can be translated using graph theory language. Let&rsquo;s focus on the case where we are coloring pairs of points, so $k=2$. The theorem then says that if you take a complete graph $K_N$ with a large enough number of vertices $N$, and you color every edge with one of $r$ colors, you are guaranteed to find a complete subgraph $K_n$ (a clique of size $n$) where all edges have the same color.</p>
<p>Let&rsquo;s see how this applies to the Monotone Sequence Theorem.</p>
<p>Imagine there is a graph that connects the elements of our sequence of $N = n^2+1$ distinct numbers, ${x_1, x_2, \ldots, x_N}$.</p>
<ol>
<li><strong>Vertices:</strong> Let the vertices of a complete graph $K_N$ be the numbers $x_1, \ldots, x_N$.</li>
<li><strong>Edges:</strong> The edges are all the pairs $(x_i, x_j)$ where $i &lt; j$.</li>
<li><strong>Colors:</strong> We will use two colors ($r=2$), let&rsquo;s call them &ldquo;blue&rdquo; and &ldquo;red&rdquo;.
<ul>
<li>Color the edge $(x_i, x_j)$ <strong>blue</strong> if $x_i &lt; x_j$ (the sequence is &ldquo;increasing&rdquo; at this step).</li>
<li>Color the edge $(x_i, x_j)$ <strong>red</strong> if $x_i &gt; x_j$ (the sequence is &ldquo;decreasing&rdquo; at this step).</li>
</ul>
</li>
</ol>
<p>Since every pair of numbers is either increasing or decreasing, every edge in our complete graph $K_N$ is colored. Now, what does Ramsey&rsquo;s Theorem promise us? It guarantees that there exists a <strong>monochromatic clique</strong> of a certain size. What is that in our context?</p>
<ul>
<li>
<p>A <strong>blue clique</strong> of size $n+1$ is a subset of vertices ${x_{i_1}, x_{i_2}, \ldots, x_{i_{n+1}}}$ with $i_1 &lt; i_2 &lt; \ldots &lt; i_{n+1}$ such that every edge between them is blue. This means for any pair $j &lt; k$, the edge $(x_{i_j}, x_{i_k})$ is blue, which implies $x_{i_j} &lt; x_{i_k}$. This is precisely an <strong>increasing subsequence of length $n+1$</strong>.</p>
</li>
<li>
<p>A <strong>red clique</strong> of size $n+1$ is a subset of vertices ${x_{i_1}, x_{i_2}, \ldots, x_{i_{n+1}}}$ with $i_1 &lt; i_2 &lt; \ldots &lt; i_{n+1}$ such that every edge between them is red. This means for any pair $j &lt; k$, the edge $(x_{i_j}, x_{i_k})$ is red, which implies $x_{i_j} &gt; x_{i_k}$. This is precisely a <strong>decreasing subsequence of length $n+1$</strong>.</p>
</li>
</ul>
<p>Ramsey&rsquo;s Theorem for two colors, $R(n+1, n+1)$, gives us an upper bound on the sequence length $N$ needed to guarantee one of these structures. The Erdős-Szekeres Theorem provides a much tighter bound, $N = n^2 + 1$, but the underlying principle is the same: in a sufficiently large system, order must emerge.</p>
<h3 id="a-simple-proof">A Simple Proof</h3>
<p>While the connection to Ramsey Theory is fundamental, there is a wonderfully simple proof of the Monotone Sequence Theorem that feels almost like magic. It&rsquo;s one of my all-time favorites.</p>
<p>Let&rsquo;s take our sequence $X = (x_1, x_2, \ldots, x_{n^2+1})$. For each number $x_k$ in the sequence, let&rsquo;s assign it a special label—a pair of integers $(a_k, b_k)$. We define them like this:</p>
<ul>
<li>$a_k$ = the length of the longest increasing subsequence that ends with $x_k$.</li>
<li>$b_k$ = the length of the longest decreasing subsequence that ends with $x_k$.</li>
</ul>
<p>Now, here’s the crucial insight: <strong>every single one of these labels is unique.</strong></p>
<p>Let&rsquo;s think about why this has to be true. Pick any two numbers from our sequence, say $x_i$ and $x_j$, where $x_i$ comes before $x_j$ (so $i &lt; j$). Since all the numbers are distinct, there are only two possibilities:</p>
<ol>
<li>
<p><strong>If $x_i$ is smaller than $x_j$:</strong> We can take the longest increasing subsequence ending at $x_i$ (which we know has length $a_i$) and just tack $x_j$ onto the end. This gives us a new, longer increasing subsequence that ends at $x_j$. Its length is $a_i + 1$. This means the longest possible increasing subsequence ending at $x_j$ must be <em>at least</em> this long, so $a_j \ge a_i + 1$. Right away, we know $a_i$ and $a_j$ can&rsquo;t be the same.</p>
</li>
<li>
<p><strong>If $x_i$ is greater than $x_j$:</strong> We can do the same trick with the decreasing subsequences. Take the longest decreasing subsequence ending at $x_i$ (length $b_i$) and add $x_j$ to it. This creates a decreasing subsequence ending at $x_j$ of length $b_i + 1$. So, we must have $b_j \ge b_i + 1$, which means $b_i$ and $b_j$ can&rsquo;t be the same.</p>
</li>
</ol>
<p>In either scenario, the label $(a_i, b_i)$ is different from the label $(a_j, b_j)$. Since this applies to any pair of numbers in our sequence, it means all $n^2+1$ labels are unique.</p>
<p>This is where the argument comes together. Let&rsquo;s assume, just for a moment, that the theorem is wrong and there is <strong>no</strong> monotone subsequence of length $n+1$. What would that mean for our labels?</p>
<p>It would mean that the length of <em>any</em> increasing subsequence is at most $n$, and the length of <em>any</em> decreasing subsequence is also at most $n$. This puts a very tight limit on the possible values in our labels:
$$1 \le a_k \le n$$
$$1 \le b_k \le n$$</p>
<p>So, if our assumption is true, how many different labels could we possibly create? The first number, $a_k$, can be anything from 1 to $n$. The second number, $b_k$, can also be anything from 1 to $n$. This gives us a total of $n \times n = n^2$ possible unique labels.</p>
<p>But wait. We have $n^2+1$ numbers in our sequence, and we just proved that every single one of them generates a <strong>completely unique</strong> label. This leads to a logical contradiction: we have $n^2+1$ unique items, but we only have $n^2$ available slots for them to fit into. That&rsquo;s simply not possible.</p>
<p>By contradiction, there must be at least one monotone subsequence of length $n+1$ or greater, hence the proof.</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Erdös, P. and Szekeres, G., 1935. A combinatorial problem in geometry. Compositio mathematica, 2, pp.463-470.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

        </div>
    </div>
    <a href="#" id="scrollToTopButton">
        <svg t="1686753152588" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
            p-id="3988" width="48" height="48">
            <path
                d="M518.5 360.3c-3.2-4.4-9.7-4.4-12.9 0l-178 246c-3.8 5.3 0 12.7 6.5 12.7H381c10.2 0 19.9-4.9 25.9-13.2L512 460.4l105.2 145.4c6 8.3 15.6 13.2 25.9 13.2H690c6.5 0 10.3-7.4 6.5-12.7l-178-246z"
                p-id="3989" fill="#363636"></path>
            <path
                d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"
                p-id="3990" fill="#363636"></path>
        </svg>
    </a><hr style="border-top: 1px solid #EEEEEE;">
<div id="comment"></div>
<script>
    const getStoredTheme = () => localStorage.getItem("theme") === "dark" ? "dark" : "light";

    const setGiscusTheme = () => {
        const sendMessage = (message) => {
            const iframe = document.querySelector('iframe.giscus-frame');
            if (iframe) {
                iframe.contentWindow.postMessage({giscus: message}, 'https://giscus.app');
            }
        }
        sendMessage({setConfig: {theme: getStoredTheme()}})
    }

    document.addEventListener("DOMContentLoaded", () => {
        const giscusAttributes = {
            "src": "https://giscus.app/client.js",
            "data-repo": "UnionPan\/UnionPan.github.io",
            "data-repo-id": "R_kgDOIZ-Mxw",
            "data-category": "General",
            "data-category-id": "DIC_kwDOIZ-Mx84CuT-c",
            "data-mapping": "pathname",
            "data-reactions-enabled": "1",
            "data-emit-metadata": "0",
            "data-input-position": "bottom",
            "data-theme": getStoredTheme(),
            "data-lang": "en",
            "data-loading": "lazy",
            "crossorigin": "anonymous",
        };

        
        const giscusScript = document.createElement("script");
        Object.entries(giscusAttributes).forEach(
            ([key, value]) => giscusScript.setAttribute(key, value));
        document.getElementById("comment").appendChild(giscusScript);

        
        const themeToggle = document.querySelector(".theme-toggle");
        if (themeToggle) {
            themeToggle.addEventListener("click", setGiscusTheme);
        }
    });

</script>


<div class="pp-container">
        <section class="pre-and-post">
            <div class="has-text-left">
                
                <p>Previous post</p>
                <a href="http://localhost:1313/post/2023/wardrop_equilibirum/">Wardrop Equilibrium</a>
                
            </div>
            <div class="has-text-right">
                
                <p>Next post</p>
                <a href="http://localhost:1313/post/2023/dueling_bandits/"> Some Notes on Dueling Bandits</a>
                
            </div>
        </section>
    </div>

</div>

                <footer class="footer">
</footer>
            </main>
        </div>

        <script>
            
            function setTheme(theme) {
                let body = document.body;
                let themeIcon = document.querySelector(".theme-icon");
                if (theme === "dark") {
                    body.classList.add("dark-mode");
                    themeIcon.src = "http:\/\/localhost:1313\/svg/moon.svg";
                    themeIcon.alt = "moon icon";
                } else {
                    body.classList.remove("dark-mode");
                    themeIcon.src = "http:\/\/localhost:1313\/svg/sun.svg";
                    themeIcon.alt = "sun icon";
                }
                localStorage.setItem("theme", theme);
            }

            
            document.addEventListener('DOMContentLoaded', function() {
                
                let theme = localStorage.getItem("theme");
                
                
                if (!theme) {
                    theme = 'dark';
                }
                
                setTheme(theme);

                
                document.getElementById("theme-toggle").addEventListener("click", function(e) {
                    e.preventDefault();
                    let currentTheme = localStorage.getItem("theme") || "light";
                    let newTheme = currentTheme === "light" ? "dark" : "light";
                    setTheme(newTheme);
                });
            });
            
            
            document.getElementById('mobile-menu-toggle').addEventListener('click', function() {
                const sidebar = document.getElementById('sidebar');
                const button = this;
                
                sidebar.classList.toggle('open');
                button.classList.toggle('active');
            });

            
            function toggleBlogMenu(event) {
                event.preventDefault();
                event.stopPropagation(); 
                const submenu = document.getElementById('blog-submenu');
                const arrow = document.querySelector('.dropdown-arrow');
                
                if (submenu.classList.contains('open')) {
                    submenu.classList.remove('open');
                    arrow.style.transform = 'rotate(0deg)';
                } else {
                    submenu.classList.add('open');
                    arrow.style.transform = 'rotate(180deg)';
                }
            }
            
            
            document.addEventListener('click', function(event) {
                const navContainer = document.querySelector('.nav-item-container');
                const submenu = document.getElementById('blog-submenu');
                const arrow = document.querySelector('.dropdown-arrow');
                
                if (!navContainer.contains(event.target) && submenu.classList.contains('open')) {
                    submenu.classList.remove('open');
                    arrow.style.transform = 'rotate(0deg)';
                }
            });

            
            document.addEventListener('click', function(event) {
                const sidebar = document.getElementById('sidebar');
                const toggleButton = document.getElementById('mobile-menu-toggle');
                
                if (sidebar.classList.contains('open') && 
                    !sidebar.contains(event.target) && 
                    !toggleButton.contains(event.target)) {
                    sidebar.classList.remove('open');
                    toggleButton.classList.remove('active');
                }
            });

            
            document.querySelectorAll('.sidebar .nav-link, .sidebar .submenu-link').forEach(link => {
                if (!link.classList.contains('blog-toggle')) {
                    link.addEventListener('click', function() {
                        const sidebar = document.getElementById('sidebar');
                        const toggleButton = document.getElementById('mobile-menu-toggle');
                        sidebar.classList.remove('open');
                        toggleButton.classList.remove('active');
                    });
                }
            });

            
            function addWheelScrolling(selector) {
                const carousel = document.querySelector(selector);
                if (!carousel) return;

                
                const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
                const isMac = /Mac|iPhone|iPod|iPad/i.test(navigator.userAgent);
                
                carousel.addEventListener('wheel', function(e) {
                    
                    if (isMobile) {
                        return;
                    }
                    
                    
                    
                    const isTouchpad = isMac && (Math.abs(e.deltaX) > 0 || Math.abs(e.deltaY) < 50);
                    
                    
                    if (isTouchpad && Math.abs(e.deltaX) > Math.abs(e.deltaY)) {
                        
                        return;
                    }
                    
                    
                    if (!isTouchpad && Math.abs(e.deltaY) > Math.abs(e.deltaX)) {
                        e.preventDefault();
                        carousel.scrollLeft += e.deltaY * 2;
                    }
                });
            }
            
            
            addWheelScrolling('.posts-carousel');
            addWheelScrolling('.photos-carousel');
        </script>
    </body>
</html>

